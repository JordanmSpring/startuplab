angular.module('StartupLab')
.controller('NewIdeaController', ['$scope', '$location', 'Idea', 'Session', function($scope, $location, Idea, Session) {

  if (!Session.isAuthenticated()) {
    $location.path('/sign-in');
  }

  $scope.idea = {};

  $scope.submit = function() {
    Idea.create($scope.idea, function(idea) {
      $location.path('/ideas/' + idea.id);
    });
  }
}]);
